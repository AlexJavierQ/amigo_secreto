<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amigo Secreto ğŸ„</title>
    <link rel="stylesheet" href="style.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@400;700&family=Poppins:wght@400;600&display=swap"
        rel="stylesheet">
    <!-- FontAwesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Anime.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
</head>

<body>

    <!-- Snowfall Container -->
    <div id="snow-container"></div>

    <!-- Music Player Widget -->
    <div class="music-player">
        <img src="img.jpg" alt="Cover" class="album-art">
        <div class="music-info">
            <span id="music-status"><i class="fas fa-play"></i> Play</span>
            <span id="song-name">It's Beginning to Look...</span>
        </div>
    </div>

    <main class="container">
        <!-- VIEW: SETUP / ADMIN -->
        <section id="setup-view" class="view active">
            <header class="header">
                <h1>ğŸ… Amigo Secreto</h1>
                <p>Organiza tu sorteo navideÃ±o fÃ¡cil y rÃ¡pido.</p>
            </header>

            <div class="card glass-effect">
                <div class="input-group">
                    <input type="text" id="name-input" placeholder="Nombre del participante..."
                        onkeypress="handleEnter(event)">
                    <button id="add-btn" class="btn-primary"><i class="fas fa-plus"></i> AÃ±adir</button>
                </div>

                <ul id="participants-list" class="list-group">
                    <!-- Dynamic List -->
                </ul>

                <div class="actions">
                    <button id="draw-btn" class="btn-cta" disabled>ğŸ² Realizar Sorteo</button>
                    <button id="reset-btn" class="btn-secondary hidden">ğŸ”„ Reiniciar</button>
                </div>
            </div>

            <!-- Results Section (Initially Hidden) -->
            <div id="results-area" class="card glass-effect hidden" style="margin-top: 20px;">
                <span>Para compartir los links con los participantes</span>
                <h2>ğŸ Links Generados</h2>
                <p class="instruction">EnvÃ­a a cada persona SU link privado. No los abras tÃº o arruinarÃ¡s la sorpresa.
                </p>
                <ul id="links-list" class="list-group"></ul>
            </div>
        </section>

        <!-- VIEW: REVEAL / PLAYER -->
        <section id="reveal-view" class="view hidden">
            <div class="gift-container">
                <div class="gift-box" id="gift-box">
                    <div class="lid">
                        <div class="bow"></div>
                    </div>
                    <div class="box"></div>
                </div>
                <div class="message-container glass-effect">
                    <h2 id="recipient-greeting">Â¡Hola! ğŸ„</h2>
                    <p>Alguien te ha enviado un regalo secreto.</p>
                    <button id="reveal-btn" class="btn-cta">ğŸ Abrir Regalo</button>
                </div>
            </div>

            <!-- Result Overlay -->
            <div id="final-reveal" class="overlay hidden">
                <div class="reveal-content glass-effect premium-card">
                    <div class="decor-corner top-left"><i class="fas fa-holly-berry"></i></div>
                    <div class="decor-corner top-right"><i class="fas fa-candy-cane"></i></div>

                    <div class="reveal-header">
                        <h1>ğŸ… Feliz Navidad TonotosğŸ…</h1>
                        <p class="subtitle">Debes prepararle un regalo a:</p>
                    </div>

                    <div class="match-container">
                        <h2 id="match-name" class="big-reveal">---</h2>
                    </div>

                    <div class="reveal-footer">
                        <p class="secret-msg"><i class="fas fa-user-secret"></i> Â¡Shhh! Es un secreto.</p>
                        <p class="sub-msg">Toma una captura si es necesario</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ERROR VIEW -->
        <section id="error-view" class="view hidden">
            <div class="card glass-effect error-card">
                <h2>ğŸš« Ups...</h2>
                <p>Este link parece invÃ¡lido o roto.</p>
                <a href="/" class="btn-secondary">Volver al Inicio</a>
            </div>
        </section>
    </main>

    <audio id="bg-music" loop>
        <source src="https://example.com/jingle-bells.mp3" type="audio/mp3">
        <!-- Placeholder for now, will add real music later -->
    </audio>

    <script src="script.js"></script>
</body>

</html>